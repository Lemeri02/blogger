{"version":3,"sources":["components/Spinner/spinner.gif","store/actions/postActions.js","store/actions/index.js","components/Spinner/Spinner.js","components/Post/Post.js","components/Posts/Posts.js","components/NotFound/NotFound.js","components/Navbar/Navbar.js","store/actions/authActions.js","store/actions/errorActions.js","components/Register/Register.js","components/Login/Login.js","components/Logout/Logout.js","components/AddComment/AddComment.js","components/Comment/Comment.js","components/Comments/Comments.js","components/PostPage/PostPage.js","hocs/withAuth.js","components/AddPost/AddPost.js","components/EditPost/EditPost.js","components/App.js","store/reducers/authReducer.js","store/reducers/postReducer.js","store/reducers/errorReducer.js","store/reducers/index.js","store/index.js","index.js"],"names":["module","exports","getPost","id","dispatch","a","axios","get","res","type","post","data","Spinner","src","spinner","alt","style","display","margin","width","Component","Post","shortText","text","substr","this","props","className","title","categories","to","_id","Posts","getPosts","posts","map","key","connect","state","postReducer","NotFound","Navbar","user","data-toggle","data-target","aria-controls","aria-expanded","aria-label","name","authReducer","logoutUser","js_cookie","remove","clearErrors","Register","email","password","password2","onChange","e","setState","target","value","onSubmit","preventDefault","registerUser","console","log","history","push","errors","htmlFor","errorReducer","registerData","error","response","Login","loginUser","loginData","Logout","replace","AddComment","match","params","addComment","withRouter","comment","Comment","deleteComment","author","onClick","delete","Comments","comments","length","PostPage","deletePost","ChildComponent","withAuth","toLogin","AddPost","addPost","editPost","titleInput","current","textInput","categoriesInput","React","createRef","ref","defaultValue","put","App","exact","path","component","EditPost","initialState","combineReducers","action","enhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducers","applyMiddleware","thunk","jwt","decoded","jwt_decode","store","currentTime","Date","now","exp","location","href","app","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.181b4744.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.078aa3f0.gif\";","import axios from 'axios'\nimport * as actions from './index'\n\nexport const getPosts = () => async dispatch => {\n  const res = await axios.get(\"/api/posts\");\n  dispatch({ type: actions.GET_POSTS, posts: res.data })\n}\n\n\nexport const getPost = (id) => async dispatch => {\n  const res = await axios.get(`/api/posts/${id}`);\n  dispatch({ type: actions.GET_POST, post: res.data })\n}\n\nexport const addPost = (post, history) => async dispatch => {\n  await axios.post(\"/api/posts\", post);\n  dispatch({ type: actions.ADD_POST });\n  history.push(\"/\");\n};\n\nexport const editPost = (id, post, history) => async dispatch => {\n  await axios.put(`/api/posts/${id}`, post);\n  dispatch({ type: actions.EDIT_POST });\n  history.push(`/post/${id}`);\n};\n\nexport const deletePost = (id, history) => async dispatch => {\n  await axios.delete(`/api/posts/${id}`);\n  dispatch({type: actions.DELETE_POST})\n  history.replace(\"/\")\n}\n\nexport const addComment = (id, comment) => async dispatch => {\n  const res = await axios.post(`/api/posts/comment/${id}`, comment)\n  dispatch({ type: actions.ADD_COMMENT, post: res.data})\n}\n \nexport const deleteComment = (id) => async dispatch => {\n  const res = await axios.delete(`/api/posts/comment/${id}`)\n  dispatch({ type: actions.DELETE_COMMENT, post: res.data})\n}","export const SET_USER = \"SET_USER\";\nexport const LOGOUT_USER = \"LOGOUT_USER\";\n\nexport const GET_POSTS =\"GET_POSTS\";\nexport const GET_POST = \"GET_POST\";\nexport const ADD_POST = \"ADD_POST\";\nexport const EDIT_POST = \"EDIT_POST\";\nexport const DELETE_POST = \"DELETE_POST\";\n\nexport const ADD_COMMENT = \"ADD_COMMENT\";\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\n\nexport const ERROR = \"ERROR\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\n\n","import React, { Component } from 'react'\nimport spinner from './spinner.gif'\n\nexport class Spinner extends Component {\n  render() {\n    return (\n      <div>\n        <img src={spinner} alt=\"Loading...\" style={{\n          display: \"block\",\n          margin: \"auto\",\n          width: \"200px\"\n        }}/>\n      </div>\n    )\n  }\n}\n\nexport default Spinner\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n \n\nexport class Post extends Component {\n  shortText = text => text.substr(0, 100) + \"...\"\n\n  render() {\n    const { post } = this.props;\n\n    return (\n      <div className=\"card mb-3\">\n        <div className=\"card-body\">\n          <h1>{post.title}</h1>\n          <p>{this.shortText(post.text)}</p>\n          <p className=\"text-muted\">Категория: {post.categories}</p>\n          <Link to={`/post/${post._id}`} className=\"btn btn-outline-success\">Подробнее</Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Post\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { getPosts } from '../../store/actions/postActions'\n\nimport Spinner from '../Spinner/Spinner'\n\nimport Post from '../Post/Post'\nimport Helmet from 'react-helmet'\n\nexport class Posts extends Component {\n  componentDidMount() {\n    this.props.getPosts();\n  }\n\n\n  render() {\n    const { posts } = this.props;\n\n\n    if (!posts) {\n      return <Spinner />\n    }\n    return (\n      <div>\n        <Helmet>\n          <title>Blogger - Главная страница </title>\n        </Helmet>\n\n        {\n          posts.map(post => {\n          return <Post key={post._id} post={post} />\n          })\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  posts: state.postReducer.posts\n});\n\nexport default connect(mapStateToProps, {getPosts})(Posts)\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport class NotFound extends Component {\n  render() {\n    return (\n      <div className=\"text-center\">\n        <h1>Страница не найдена</h1>\n        <p>Вернуться на <Link to=\"/\">главную станицу</Link></p>\n      </div>\n    )\n  }\n}\n\nexport default NotFound\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nexport class Navbar extends Component {\n  render() {\n    const { user } = this.props;\n\n    return (\n      <nav className=\"navbar navbar-expand-md navbar-light bg-light mb-3\">\n        <div className=\"container\">\n          <Link to=\"/\" className=\"navbar-brand mb-0 h1\">BLOGGER</Link>\n\n          <button \n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n\n          <div className=\"collapse navbar-collapse\">\n            <ul className=\"navbar-nav mr-auto\">\n              <li className=\"nav-item\">\n                <Link to=\"/add\" className=\"nav-link \">Добавить пост</Link>\n              </li>\n            </ul>\n\n            {user ? (\n              <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link to=\"#\" className=\"nav-link\">\n                  {user.name}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link to=\"/logout\" className=\"nav-link\">Выход</Link>\n              </li>\n            </ul>\n            ) : (\n              <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link to=\"/login\" className=\"nav-link\">Вход</Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link to=\"/register\" className=\"nav-link\">Регистрация</Link>\n              </li>\n            </ul>\n            )}\n            \n          </div>\n        </div>\n      </nav>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.authReducer.user\n});\n\nexport default connect(mapStateToProps)(Navbar);\n","import axios from 'axios'\nimport js_cookie from 'js-cookie'\nimport * as actions from './index'\n\nexport const loginUser = loginData => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/users/login\", loginData);\n    dispatch({ type: actions.SET_USER, user: res.data.user });\n  } catch(e){\n    dispatch({ type: actions.ERROR, error: e.response.data })\n  }\n};\n\nexport const registerUser = registerData => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/users/register\", registerData);\n    dispatch({ type: actions.SET_USER, user: res.data.user });\n  } catch(e){\n    dispatch({ type: actions.ERROR, error: e.response.data })\n  }\n};\n\nexport const logoutUser = () => {\n  js_cookie.remove(\"jwt\")\n  return {\n    type: actions.LOGOUT_USER\n  };\n};\n\nexport const setCurrentUser = user => ({\n  type: actions.SET_USER,\n  user\n});\n","import * as actions from './index'\n\nexport const error = (error) => ({\n  type: actions.ERROR,\n  error\n});\n\nexport const clearErrors = () => ({\n  type: actions.CLEAR_ERRORS\n});\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { registerUser } from '../../store/actions/authActions'\nimport { clearErrors } from '../../store/actions/errorActions'\nimport Helmet from 'react-helmet'\n\nexport class Register extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\"\n  };\n\n  componentDidUpdate() {\n    if (this.props.user){\n      this.props.history.push(\"/\")\n    }\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n\n    if (this.props.user){\n      this.props.history.push(\"/\")\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.registerUser(this.state);\n    console.log(this.state)\n  }\n  render() {\n    const { errors } = this.props;\n    const { name, email, password, password2 } = this.state;\n\n    return (\n      <div className=\"row\">\n        <Helmet>\n          <title>Blogger - Регистрация</title>\n        </Helmet>\n        <form className=\"card p-3 mx-auto col-md-5\" onSubmit={this.onSubmit}>\n          <h2 className=\"text-center\">Регистрация</h2>\n         \n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Имя:</label>\n            <input type=\"text\" className=\"form-control\" value={name} onChange={this.onChange} name=\"name\" />\n            {errors.name && (<div className=\"text-danger\">{errors.name}</div>)}\n          </div>\n\n         <div className=\"form-group\">\n            <label htmlFor=\"email\">Email:</label>\n            <input type=\"email\" className=\"form-control\" value={email} onChange={this.onChange} name=\"email\" />\n            {errors.email && (<div className=\"text-danger\">{errors.email}</div>)}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Пароль:</label>\n            <input type=\"password\" className=\"form-control\" value={password} onChange={this.onChange} name=\"password\" />\n            {errors.password && (<div className=\"text-danger\">{errors.password}</div>)}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password2\">Повторите пароль:</label>\n            <input type=\"password\" className=\"form-control\" value={password2} onChange={this.onChange} name=\"password2\" />\n            {errors.password2 && (<div className=\"text-danger\">{errors.password2}</div>)}\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-outline-success btn-lg\">Зарегистрироваться</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.authReducer.user,\n  errors: state.errorReducer\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser, clearErrors }\n)(Register);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { loginUser } from '../../store/actions/authActions'\nimport { clearErrors } from '../../store/actions/errorActions'\nimport Helmet from 'react-helmet'\n\nexport class Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  componentDidUpdate() {\n    if (this.props.user){\n      this.props.history.push(\"/\")\n    }\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n    \n    if (this.props.user){\n      this.props.history.push(\"/\")\n    }\n  }\n\n  onChange = e => {\n    this.setState({[e.target.name] : e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    this.props.loginUser(this.state);\n  }\n  render() {\n    const { errors } = this.props;\n    const { email, password } = this.state;\n\n    return (\n      <div className=\"row\">\n        <Helmet>\n          <title>Blogger - Вход</title>\n        </Helmet>\n        <form className=\"card p-3 mx-auto col-md-5\" onSubmit={this.onSubmit}>\n          <h2 className=\"text-center\">Вход</h2>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email:</label>\n            <input type=\"email\" className=\"form-control\" value={email} onChange={this.onChange} name=\"email\" />\n            {errors.email && (<div className=\"text-danger\">{errors.email}</div>)}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Пароль:</label>\n            <input type=\"password\" className=\"form-control\" value={password} onChange={this.onChange} name=\"password\" />\n            {errors.password && (<div className=\"text-danger\">{errors.password}</div>)}\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-outline-success btn-lg\">Войти</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.authReducer.user,\n  errors: state.errorReducer\n});\n\nexport default connect(\n  mapStateToProps,\n  { loginUser, clearErrors }\n)(Login);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { logoutUser } from '../../store/actions/authActions'\n\nexport class Logout extends Component {\n  componentDidMount() {\n    this.props.logoutUser();\n    this.props.history.replace(\"/login\")\n  };\n\n  render() {\n    return (\n      <div>\n        Вы вышли! \n      </div>\n    )\n  }\n}\n\n\n\nexport default connect(null, { logoutUser })(Logout)\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport {addComment} from '../../store/actions/postActions'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nexport class AddComment extends Component {\r\n\r\n    state ={\r\n        text: '',\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name] : e.target.value })\r\n    }\r\n    \r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const id = this.props.match.params.id;\r\n        this.props.addComment(id, this.state);\r\n        this.setState({text: ''});\r\n    }\r\n\r\n  render() {\r\n      const { user } = this.props;\r\n      const { text } = this.state;\r\n\r\n      if (!user) {\r\n          return ( \r\n          <div>\r\n              <p className=\"text-muted\">Комментировать могут только авторизованные пользователи</p>\r\n              <p  className=\"text-muted\"><Link to=\"/login\">Войти</Link> или <Link to=\"/register\">Зарегистрироваться</Link></p>    \r\n          </div>)\r\n      }\r\n    return (\r\n        <form className=\"mb-3\" onSubmit={this.onSubmit}>\r\n      <div className=\"form-group\">\r\n          <label htmlFor=\"text\">Комментарий:</label>\r\n          <textarea type=\"text\" value={text} onChange={this.onChange} name=\"text\" className=\"form-control\" />\r\n      </div>\r\n          <button type=\"submit\" className=\"btn btn-outline-success\">Отправить коммент</button>\r\n          </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.authReducer.user\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, {addComment})(AddComment));","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {deleteComment} from '../../store/actions/postActions'\r\n\r\nexport class Comment extends Component {\r\n    deleteComment = () => {\r\n      const id = this.props.comment._id;\r\n      this.props.deleteComment(id);\r\n    };\r\n\r\n  render() {\r\n    const {comment, user } = this.props;\r\n\r\n\r\n    return (\r\n      <div className=\"card mb-3\">\r\n         <div className=\"card-body\">\r\n           <h4>{comment.author.name}</h4>\r\n           <p>{comment.text}</p>\r\n            {user && user.id === comment.author._id && (\r\n                <button className=\"btn btn-outline-danger\" onClick={this.deleteComment}>Удалить комментарий</button>\r\n            )}\r\n         </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.authReducer.user\r\n})\r\n\r\nexport default connect(mapStateToProps, {deleteComment})(Comment)\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Comment from '../Comment/Comment'\r\n\r\nexport class Comments extends Component {\r\n  render() {\r\n    const {comments} = this.props;\r\n\r\n    if(comments.length === 0) {\r\n        return (\r\n            <p className=\"text-muted\">Нет комментариев</p>\r\n        )\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {comments.map(comment => (\r\n            <Comment key={comment._id} comment={comment}/>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Comments\r\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {Link} from 'react-router-dom';\nimport { getPost, deletePost } from '../../store/actions/postActions'\nimport Spinner from '../Spinner/Spinner'\nimport AddComment from '../AddComment/AddComment';\nimport Comments from '../Comments/Comments';\nimport Helmet from 'react-helmet'\n\nexport class PostPage extends Component {\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    this.props.getPost(id);\n  }\n\n  deletePost = () => {\n    const id = this.props.match.params.id;\n    this.props.deletePost(id, this.props.history);\n  }\n  render() {\n    const {post, user} = this.props;\n\n    if(!post){\n      return <Spinner />\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>Blogger - {post.title}</title>\n        </Helmet>\n        \n        <h1>{post.title}</h1>\n          <p className=\"text-muted\"> Автор: {post.author.name}</p>\n\n          <p>{post.text}</p>\n\n          <p className=\"text-muted\">Категория: {post.categories}</p>\n\n          {user && user.id === post.author._id ? (\n            <div className=\"mb-5\">\n              <button onClick={this.deletePost} className=\"btn btn-outline-danger mr-3\" >Удалить</button>\n              <Link className=\"btn btn-outline-secondary ml-3\" to={`/edit/${post._id}`} >Редактировать</Link>\n            </div>\n          ) : null }\n\n          <AddComment />\n          <Comments comments={post.comments}/>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.authReducer.user,\n  post: state.postReducer.post\n})\n\nexport default connect(mapStateToProps, {getPost, deletePost})(PostPage)\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nexport default ChildComponent => { \r\n    class withAuth extends Component {\r\n        componentDidMount() {\r\n            this.toLogin();\r\n        }\r\n\r\n        componentDidUpdate() {\r\n            this.toLogin();\r\n        }\r\n\r\n        toLogin = () => {\r\n            if(!this.props.user){\r\n            this.props.history.push('/login')\r\n            }\r\n        }\r\n        render() {\r\n            return <ChildComponent {...this.props} />\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = state => ({ \r\n        user: state.authReducer.user\r\n    })\r\n\r\n    return connect(mapStateToProps)(withAuth)\r\n}","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport {addPost } from '../../store/actions/postActions'\nimport Helmet from 'react-helmet'\n\nimport withAuth from '../../hocs/withAuth'\nexport class AddPost extends Component {\n  state = {\n    title: \"\",\n    text: \"\"\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name] : e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.addPost(this.state, this.props.history);\n  }\n\n  render() {\n    const { title, text, categories } = this.state;\n\n    return (\n        <form onSubmit={this.onSubmit}>\n        <Helmet>\n          <title>Blogger - Добавить пост</title>\n        </Helmet>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Название</label>\n            <input type=\"text\" value={title} onChange={this.onChange} name=\"title\" className=\"form-control\" />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"text\">Пост</label>\n            <textarea type=\"text\" value={text} onChange={this.onChange} name=\"text\" className=\"form-control\" />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"text\">Категория</label>\n            <input type=\"text\" value={categories} onChange={this.onChange} name=\"categories\" className=\"form-control\" />\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-outline-success\">Отправить</button>\n        </form>\n    )\n  }\n}\n\nexport default  withAuth(connect(null, {addPost})(AddPost));\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { editPost, getPost } from '../../store/actions/postActions'\r\nimport Spinner from '../Spinner/Spinner'\r\nimport withAuth from '../../hocs/withAuth'\r\nimport Helmet from 'react-helmet'\r\n\r\nexport class AddPost extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.titleInput = React.createRef();\r\n      this.textInput = React.createRef();\r\n      this.categoriesInput = React.createRef();\r\n  }\r\n\r\n  componentDidMount(){\r\n    const id = this.props.match.params.id;\r\n    this.props.getPost(id);\r\n  }\r\n \r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const id = this.props.match.params.id;\r\n    this.props.editPost(id, {\r\n        title: this.titleInput.current.value,\r\n        text: this.textInput.current.value,\r\n        categories: this.categoriesInput.current.value,\r\n    }, this.props.history);\r\n  }\r\n\r\n  render() {\r\n    const { post } = this.props;\r\n\r\n    if(!post) {\r\n        return <Spinner />\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={this.onSubmit}>\r\n        <Helmet>\r\n          <title>Blogger - Редактировать пост</title>\r\n        </Helmet>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Название</label>\r\n            <input \r\n            ref={this.titleInput}\r\n            type=\"text\" defaultValue={post.title}  className=\"form-control\" />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"text\">Пост</label>\r\n            <textarea \r\n            ref={this.textInput}\r\n            type=\"text\" defaultValue={post.text} className=\"form-control\" />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"text\">Категория</label>\r\n            <input \r\n            ref={this.categoriesInput}\r\n            type=\"text\" defaultValue={post.categories} className=\"form-control\" />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-primary\">Редактировать</button>\r\n        </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    post: state.postReducer.post\r\n})\r\n\r\nexport default  withAuth(connect(mapStateToProps, {editPost, getPost})(AddPost));\r\n","import React, { Component } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Posts from './Posts/Posts'\nimport NotFound from './NotFound/NotFound'\nimport Navbar from './Navbar/Navbar'\nimport Register from './Register/Register'\nimport Login from './Login/Login'\nimport Logout from './Logout/Logout'\nimport PostPage from './PostPage/PostPage'\nimport AddPost from './AddPost/AddPost'\nimport EditPost from './EditPost/EditPost'\n\n\nexport class App extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"/\" component={Posts} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            <Route exact path=\"/logout\" component={Logout} />\n            <Route exact path=\"/post/:id\" component={PostPage} />\n            <Route exact path=\"/add\" component={AddPost} />\n            <Route exact path=\"/edit/:id\" component={EditPost} />\n            <Route path=\"/\" component={NotFound} />\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import * as actions from \"../actions\"\n\nconst initialState = {\n  user: null\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n    \n    case actions.SET_USER:\n      return { user: action.user };\n\n    case actions.LOGOUT_USER:\n      return { user: null };\n\n    default:\n      return state;\n  }\n};\n","import * as actions from '../actions'\n\nconst initialState = {\n  post: null,\n  posts: null\n}\n\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n    case actions.GET_POSTS:\n      return { ...state, posts: action.posts };\n\n    case actions.GET_POST:\n      return { ...state, post: action.post };\n\n    case actions.ADD_POST:\n      return { ...state, posts: null };\n\n    case actions.EDIT_POST:\n      return { ...state, post: null };\n\n    case actions.DELETE_POST:\n      return { ...state, post: null };\n      \n    case actions.ADD_COMMENT:\n    case actions.DELETE_COMMENT:\n      return { ...state, post: action.post}\n\n    default:\n      return state;\n  }\n};\n","import * as actions from '../actions/'\n\nconst initialState = {}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n    case actions.ERROR:\n      return { ...action.error };\n\n    case actions.CLEAR_ERRORS:\n      return {}\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux'\nimport authReducer from './authReducer'\nimport postReducer from './postReducer'\nimport errorReducer from './errorReducer'\n\nexport default combineReducers({\n  authReducer,\n  postReducer,\n  errorReducer\n});\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport reducers from './reducers'\n\nconst enhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducers, enhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport js_cookie from 'js-cookie';\nimport jwt_decode from 'jwt-decode'\n\nimport App from './components/App'\n\nimport store from './store'\nimport { setCurrentUser, logoutUser, loginUser } from './store/actions/authActions';\n\nconst jwt = js_cookie.get(\"jwt\");\n\nif (jwt) {\n  const decoded = jwt_decode(jwt);\n  store.dispatch(setCurrentUser(decoded));\n\n  const currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser())\n    window.location.href = \"/login\"\n  }\n} \n\nconst app = (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(app, document.querySelector(\"#root\"));\n"],"sourceRoot":""}